{{left-hand-panel}}

<div id="main">
  <div class="election-outcome">
    {{!
      The following variable is available too (replace []'s with {}'s):

      District [[model.districtNumber]]
    }}
    <div class="district header--election">
      <div class="district__label header--election__label">District</div>
      <div class="district__value header--election__value">{{model.districtNumber}}</div>
    </div>

    <div class="percentage-votes header--election--secondary">
      <span class="percentage-votes__label">Percentage of Votes</span>
      <div class="percentage-votes__value">
        {{runoffOrdinal}} Round

        {{#if requiresRunoff}}
         <button class="election-nav-btn view-runoff" {{action 'viewRunoffElection'}}>View Runoff Results</button>
        {{/if}}

        {{#if currentRunoff}}
          <button class="election-nav-btn view-original" {{action 'viewOriginalElection'}}>View Original Results</button>
        {{/if}}
      </div>
    </div>

    {{#donut-chart diameter=model.diameter electionOutcome=electionOutcome currentRunoff=currentRunoff}}
      {{donut-hole diameter=model.diameter electionOutcome=electionOutcome currentRunoff=currentRunoff}}
    {{/donut-chart}}
  </div>

  <div class="election-settings">
    <div class="election-settings__overview">
      <div class="total-voters header--election">
        <div class="total-voters__label header--election__label">Total Voters</div>
        <div class="total-voters__value header--election__value">{{totalVoters}}</div>
      </div>

      <div class="formula header--election--dropdown">
        <div {{bind-attr class=":formula__label :header--election__label showFormulaList:menu-displayed"}}>
          <button class="toggle-formula-list-button" {{action 'toggleFormulaList'}}>Formula Applied: <span class="arrow">Select formula</span></button>
        </div>
        <div class="selected-formula">{{model.formulaName}}</div>
        {{#if showFormulaList}}
          <ul class="formula-selector">
            {{#each formula in model.formulae}}
              <li class="formula-item">
                <button {{action 'useFormula' formula}} class="select-formula-button">{{formula.display}}</button>
              </li>
            {{/each}}
          </ul>
        {{/if}}
      </div>
    </div>

    <div class="preference-group-header header--election--secondary">
      <span class="secondary--voter-count">Number of Voters</span>
      <ul class="party-preference-header">
        <li>1st choice</li>
        <li>2nd</li>
        <li>3rd</li>
        <li>4th</li>
        <li>5th</li>
      </ul>
    </div>

    {{#each preferenceGroup in model.preferenceGroups}}
        {{preference-group preferenceGroup=preferenceGroup totalVoters=totalVoters}}
    {{/each}}

    {{outlet}}
  </div>
</div>
